# 运行时环境

> 作为 Bifrost 链的重要组成部分，运行时环境相对智能合约而言更为底层。运行时环境由各种运行时模块组成。运行时模块包括账户、余额、Staking、智能合约、转接桥、治理、共识等模块，模块间可以是相互独立，同时允许模块间相互调用。链的大部分代码逻辑都在运行时环境中运行。

运行时环境允许各个运行时模块单独升级，同时它的一个重要特性是无硬分叉升级。现有的区块链系统在进行升级时由于各个节点运行版本的不一致，有导致整个链硬分叉的风险，这严重影响到整个生态的健康发展以及节点、用户的利益。Bifrost 每次升级模块都会生成两个版本：Native 版和 WASM 版。当运行时环境判断更新模块版本与当前 Native 版本一致时，直接运行 Native 版本代码，这样能得到最快的运行效率；当更新模块版本与当前 Native 版本不一致时，节点无需中断运行，直接运行上传的 WASM 版本，完成无硬分叉升级。